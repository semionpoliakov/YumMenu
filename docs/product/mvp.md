# YumMenu — Product Documentation

## Overview

**YumMenu** — сервис для быстрого составления меню и списка покупок.  

---

## Возможности MVP

### Ингредиенты

- **Назначение**: база продуктов для блюд и покупок.  
- **Основные возможности**: добавление, редактирование, деактивация, удаление.  
- **Атрибуты**: название, базовая мера, статус активности.  
- **Особенности MVP**:  
  - Название уникально в пределах пользователя.  
  - Удаление доступно только если ингредиент нигде не используется.  

### Блюда

- **Назначение**: комбинации ингредиентов для генерации меню.  
- **Основные возможности**: создание, редактирование, деактивация, удаление.  
- **Атрибуты**: название, тип приёма пищи (`mealType`), категории (суп, гарнир, основное, эксперимент), теги (мясо, веган и т.д.), ингредиенты с количеством.  
- **Особенности MVP**:  
  - Состав указывается на 1 порцию.  
  - Удаление доступно только если блюдо нигде не используется.  

### Холодильник

- **Назначение**: учёт запасов продуктов.  
- **Основные возможности**: добавление, редактирование, удаление.  
- **Атрибуты**: ингредиент, количество, мера.  
- **Особенности MVP**: без сроков годности.  

### Генерация меню

- **Назначение**: автоматическое составление плана питания.  
- **Основные возможности**: выбор количества обедов, ужинов, завтраков и т.д.; фильтры по категориям и тегам; обязательные блюда и ингредиенты.  
- **Атрибуты**: настройки генерации (количество по типам приёмов пищи, фильтры, обязательные элементы).  
- **Особенности MVP**:  
  - Блюда не повторяются в рамках одного меню.  
  - Приоритет блюд, полностью покрываемых холодильником.  
  - Генерация всегда возвращает план, даже если блюд не хватает.  

### Список покупок

- **Назначение**: список ингредиентов, которых нет в холодильнике.  
- **Основные возможности**: отметка «куплено».  
- **Атрибуты**: ингредиент, количество, статус покупки.  
- **Особенности MVP**:  
  - Формируется автоматически при генерации меню.  
  - Отдельно регенерировать нельзя.  

### Меню

- **Назначение**: хранение и использование сгенерированного плана.  
- **Основные возможности**: просмотр, отметка приготовленных блюд, чекаут с частичной перегенерацией.  
- **Атрибуты**: список блюд (слоты), статус (черновик/финал).  
- **Особенности MVP**:  
  - `locked` — фиксирует блюдо от перегенерации.  
  - `cooked` — пометка, что блюдо приготовлено.  

### Драфты

- **Назначение**: возможность сохранить незавершённый результат.  
- **Основные возможности**: черновик или финал для меню и списка покупок.  
- **Особенности MVP**: версии и история изменений отсутствуют.  

---

## User Flows

1. Пользователь создаёт библиотеку ингредиентов.  
2. Создаёт блюда на основе ингредиентов.  
3. Заполняет холодильник.  
4. Генерирует меню, указывая количество обедов/ужинов/завтраков и фильтры.  
5. Получает меню и список покупок.  
6. В чекауте может зафиксировать блюда и перегенерировать остальные.  
7. Отмечает в меню «приготовлено» и в списке покупок «куплено».  

---

## Terminology

- **Ingredient** — продукт в библиотеке.  
- **Dish** — блюдо из ингредиентов.  
- **FridgeItem** — запас продукта в холодильнике.  
- **Menu** — план питания.  
- **MenuItem** — слот меню (одно блюдо в конкретном приёме пищи).  
  - `locked` — зафиксирован от перегенерации.  
  - `cooked` — приготовлено.  
- **ShoppingList** — список покупок.  
- **ShoppingListItem** — запись в списке покупок.  
  - `bought` — куплено.  

---

## Post-MVP Backlog (TODO)

1. Стоимость у блюд/ингредиентов и фильтр по бюджету.  
2. Шаблоны дней (типичный день: завтрак, обед, ужин).  
3. Подсказки при генерации и наполнении библиотеки.  
4. AI-дополнение блюд на основе холодильника.  
5. Псевдорандом (rngSeed).  
6. Аутентификация / OAuth 2.0.  
7. Сроки годности + нотификации.  
8. БЖУ и калорийность для ингредиентов и блюд + генерация меню по этим параметрам.  
9. Общая библиотека блюд + рейтинг.  
10. Персональные диеты / аллергии.  
11. История и логи нотификаций.  
12. Офлайн режим.  
13. Сложность блюд.  
14. Автосинхронизация холодильника и приготовлений.  
15. Умные закупки: округления и упаковки (Smart Purchasing).  
16. Многодневные блюда и учёт остатков.  
17. Умные меры: граммы, штуки, литры, дробные части (например, половина лука).  

---
